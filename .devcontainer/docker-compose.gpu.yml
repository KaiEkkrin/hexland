# Docker Compose GPU Override
# This file adds GPU support for WebGL rendering in Playwright tests
#
# This is an OVERLAY file that extends docker-compose.yml.
# It only defines GPU-specific configuration - all other settings
# (volumes, networks, environment variables, ports) come from docker-compose.yml.
#
# REQUIREMENTS:
#   - NVIDIA GPU on host machine
#   - NVIDIA Container Toolkit installed
#     (included in Docker Desktop for Windows, must be installed separately on Linux)
#
# USAGE:
#   To enable GPU support, uncomment the docker-compose.gpu.yml line in devcontainer.json
#
# NOTE:
#   Volumes are defined in docker-compose.yml (hexland_workspace only).
#   All cache and config data is stored within the workspace volume via symlinks.

version: '3.8'

services:
  hexland-dev:
    # Enable GPU support for WebGL in Playwright tests
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
